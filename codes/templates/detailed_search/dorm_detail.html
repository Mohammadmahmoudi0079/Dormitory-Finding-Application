{% extends "base.html " %}
{% block title %}Dorm Details{% endblock %}
{% block content %}
<div >
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul class="flashed-messages">
          {% for category, message in messages %}
            <li class="{{ category }}">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
    </div>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f2f2f2;
        }

        .dorm-details-container {
            background-color: #fff;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: #333;
            margin-bottom: 20px;
        }

        p {
            margin: 10px 0;
        }

        strong {
            font-weight: bold;
        }

        .button {
            display: inline-block;
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            text-decoration: none;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }

        .button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="dorm-details-container">
        <h2>{{ dorm.name }} Details</h2>
        <p><strong>State:</strong> {{ dorm.state }}</p>
        <p><strong>City:</strong> {{ dorm.city }}</p>
        <p><strong>Sex:</strong> {{ dorm.sex }}</p>
        <p><strong>Price:</strong> ${{ dorm.price }}</p>
        <p><strong>Meal Number:</strong> {{ dorm.meal_number }}</p>
        <p><strong>Cleaning Plan:</strong> {{ dorm.cleaning_plan }}</p>
        <p><strong>Room Population:</strong> {{ dorm.room_population }}</p>
        <p><strong>Kitchen:</strong> {{ dorm.kitchen }}</p>
        <p><strong>Laundry:</strong> {{ dorm.laundry }}</p>
        <p><strong>Park:</strong> {{ dorm.park }}</p>
        <p><strong>WiFi:</strong> {{ dorm.wifi }}</p>
        <p><strong>Studying Hall:</strong> {{ dorm.studying_hall }}</p>
        <p><strong>Stars:</strong> {{ dorm.stars }}</p>
        <p><strong>Capacity:</strong> {{ dorm.capacity }}</p>
        <p><strong>Availability:</strong> {{ dorm.availability }}</p>
        <p><strong>Latest Check-in:</strong> {{ dorm.latest_check_in }}</p>
        <p><strong>Latest Update:</strong> {{ dorm.latest_update }}</p>

    {% if current_user.is_authenticated %}
    <a href="{{ url_for('user.book_dorm', dorm_id=dorm.dorm_id,owner_id=dorm.owner_id) }}" class="button">Book This Dorm</a>
    {% else %}
    <a href="{{ url_for('user.user_login', next=request.path,dorm_id=dorm.dorm_id,owner_id=dorm.owner_id) }}" class="button">Login</a>
    <p>Don't have an account?</p>
    <a href="{{ url_for('user.user_register', next=request.path) }}">Sign Up</a>
    {% endif %}
    </div>
{% endblock %}
